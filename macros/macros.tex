% Macros pour les notations mathématiques

% Macros définitions
%\def\DEF{\stackrel{\Delta}=}
%\def\EQDEF{\stackrel{\Delta}\Leftrightarrow}
\def\DEF{\stackrel{def}=}
\def\EQDEF{\stackrel{def}\Leftrightarrow}

% Macros générales
\newcommand{\sR}{\mathbb{R}}
\newcommand{\sN}{\mathbb{N}}
\newcommand{\sNN}{\mathbb{N}^\bullet}
%\newcommand{\segm}[2]{\llbracket #1; #2 \rrbracket}
%\newcommand{\couplegenerique}[5]{\mathopen{#1}#2\mathclose{}\mathpunct{}#3#4\mathclose{#5}}
\newcommand{\couplegenerique}[5]{\mathopen{#1}#2\mathclose{}#3#4\mathclose{#5}}
\newcommand{\segm}[2]{\couplegenerique{\llbracket}{#1}{;}{#2}{\rrbracket}}
\newcommand{\interv}[2]{\couplegenerique{[}{#1}{;}{#2}{]}}
\newcommand{\couple}[2]{\couplegenerique{(}{#1}{;}{#2}{)}}

\def\indexes#1{\mathbb{I}^{#1}}
\def\f#1{\mathsf{#1}}

% Notations générales pour PH
\newcommand{\PH}{\mathcal{PH}}
%\newcommand{\PHs}{\mathcal{S}}
\newcommand{\PHs}{\Sigma}
%\newcommand{\PHp}{\mathcal{P}}
\newcommand{\PHp}{\textcolor{red}{\mathcal{P}}}
%\newcommand{\PHproc}{\mathcal{P}}
\newcommand{\PHproc}{\mathbf{Proc}}
\newcommand{\Proc}{\PHproc}
\newcommand{\PHh}{\mathcal{H}}
\newcommand{\PHa}{\PHh}
%\newcommand{\PHa}{\mathcal{A}}
\newcommand{\PHl}{\mathcal{L}}

\newcommand{\PHhitter}{\mathsf{frappeur}}
\newcommand{\PHtarget}{\mathsf{cible}}
\newcommand{\PHbounce}{\mathsf{bond}}
\newcommand{\PHinvariant}{\mathsf{invariant}}
%\newcommand{\PHsort}{\Sigma}
\newcommand{\PHsort}{\mathsf{sorte}}
\newcommand{\sort}[1]{\PHsort(#1)}
\newcommand{\sorte}{\sort}
\newcommand{\PHsorts}{\mathsf{sortes}}
\newcommand{\sortes}[1]{\PHsorts(#1)}
\newcommand{\sorts}{\sortes}

\newcommand{\hitter}[1]{\PHhitter(#1)}
\newcommand{\target}[1]{\PHtarget(#1)}
\newcommand{\bounce}[1]{\PHbounce(#1)}
\newcommand{\frappeur}[1]{\PHhitter(#1)}
\newcommand{\cible}[1]{\PHtarget(#1)}
\newcommand{\bond}[1]{\PHbounce(#1)}
\newcommand{\invariant}[1]{\PHinvariant(#1)}

% Priorités
\newcommand{\prio}{\mathsf{prio}}

% Arcs neutralisants
\newcommand{\PHn}{\mathcal{N}}
\newcommand{\PHansymbol}{\rtimes}
%\newcommand{\PHansymbol}{\multimap}
%\newcommand{\PHansymbol}{-\!\!\!\bullet\ }
\newcommand{\PHan}[2]{#1\PHansymbol#2}
\newcommand{\PHbloquant}{\mathsf{bloquante}}
\newcommand{\PHbloque}{\mathsf{bloqu\acute{e}e}}

%\newcommand{\PHfrappeur}{\mathsf{frappeur}}
%\newcommand{\PHcible}{\mathsf{cible}}
%\newcommand{\PHbond}{\mathsf{bond}}
%\newcommand{\PHsorte}{\mathsf{sorte}}
%\newcommand{\PHbloquant}{\mathsf{bloquante}}
%\newcommand{\PHbloque}{\mathsf{bloquee}}

%\newcommand{\PHfrappeR}{\textcolor{red}{\rightarrow}}
%\newcommand{\PHmonte}{\textcolor{red}{\Rsh}}

\newcommand{\PHhitA}{\rightarrow}
\newcommand{\PHhitB}{\Rsh}
%\newcommand{\PHfrappe}[3]{\mbox{$#1\PHhitA#2\PHhitB#3$}}
%\newcommand{\PHfrappebond}[2]{\mbox{$#1\PHhitB#2$}}
\newcommand{\PHhit}[3]{#1\PHhitA#2\PHhitB#3}
\newcommand{\PHfrappe}{\PHhit}
\newcommand{\PHhbounce}[2]{#1\PHhitB#2}
\newcommand{\PHobj}[2]{\mbox{$#1\PHhitB^*\!#2$}}
\newcommand{\PHconcat}{::}
\newcommand{\cons}{::}
%\newcommand{\PHneutralise}{\rtimes}

\newcommand{\PHget}[2]{{#1[#2]}}
\newcommand{\get}{\PHget}
%\def\PHget#1#2{{#1[#2]}}
%\newcommand{\PHchange}[2]{#1\langle #2 \rangle}
%\newcommand{\PHchange}[2]{(#1 \Lleftarrow #2)}
%\newcommand{\PHarcn}[2]{\mbox{$#1\PHneutralise#2$}}
\newcommand{\PHplay}{\cdot}

\newcommand{\PHstate}[1]{\mbox{$\langle #1 \rangle$}}
\newcommand{\etat}[1]{\PHstate{#1}}

\newcommand{\premsymbol}{\mathsf{premier}}
\newcommand{\dersymbol}{\mathsf{dernier}}
\newcommand{\suppsymbol}{\mathsf{support}}
\newcommand{\finsymbol}{\mathsf{fin}}
\newcommand{\prem}[2]{\premsymbol_{#1}(#2)}
\newcommand{\der}[2]{\dersymbol_{#1}(#2)}
\newcommand{\supp}[1]{\suppsymbol(#1)}
\newcommand{\fin}[1]{\finsymbol(#1)}

\def\DNtrans{\rightarrow_{ADN}}
\def\DNdef{(\mathbb F, \langle f^1, \dots, f^n\rangle)}
\def\DNdep{\f{dep}}
%\def\PHPtrans{\rightarrow_{PH}}
\newcommand{\PHtrans}[1][\PH]{\trans{#1}}
\def\get#1#2{#1[{#2}]}
\def\encodeF#1{\mathbf{#1}}
\def\toPH{\encodeF{PH}}
\def\card#1{|#1|}
\def\decode#1{\llbracket#1\rrbracket}
\def\encode#1{\llparenthesis#1\rrparenthesis}
\def\Hits{\PHa}
\def\hit{\PHhit}
\def\play{\cdot}
\newcommand{\recouvre}{\Cap}
%\newcommand{\recouvre}{/}

% General macros
\newcommand{\angles}[1]{{\langle #1 \rangle}}
\newcommand{\trans}[1]{\rightarrow_{#1}}
\newcommand{\mtrans}[1]{\rightsquigarrow_{#1}}
%\newcommand{\bigtimes}[1]{\underset{#1}{\times}}
%\newcommand{\bigtimes}[1]{\times_{#1}}
\newcommand{\bigtimes}[1]{\bigotimes_{#1}}
\newcommand{\emptyseq}{\epsilon}

% Sub-sets
\newcommand{\PHsublize}[1]{#1^\lozenge}
\newcommand{\PHsubl}[1][\PHl]{\PHsublize{#1}}
%\newcommand{\PHsublsetize}[1]{#1^{\blacklozenge}}
%\newcommand{\PHsublset}[1][\PHl]{\PHsublsetize{#1}}
\newcommand{\PHsublsetize}[1]{#1^{\lozenge}}
\newcommand{\PHsublset}[1][\Proc]{\PHsublsetize{#1}}

% Actions plurielles
\newcommand{\PHhitmultsymbol}{\rightarrowtail}
\newcommand{\PHhitmult}[2]{\mbox{$#1 \PHhitmultsymbol #2$}}
\newcommand{\PHfrappemult}{\PHhitmult}
\newcommand{\PHfrappemults}[2]{\PHhitmult{\{#1\}}{\{#2\}}}

% Traduction en réseau d'automates
\newcommand{\phmtoansymbol}{\f{toRAS}}
\newcommand{\phmtoan}[1][\PH]{\phmtoansymbol(#1)}
\newcommand{\antophmsymbol}{\f{toPH}}
\newcommand{\antophm}[1][\AN]{\antophmsymbol(#1)}
\newcommand{\AN}{\f{RAS}}
\newcommand{\ANs}{\PHs}
\newcommand{\ANl}{\PHl}
\newcommand{\ANi}{I}
\newcommand{\ANt}{T}
\newcommand{\precond}[1]{{}^\bullet #1}
\newcommand{\postcond}[1]{#1 {}^\bullet}
\newcommand{\invcond}[1]{\precond{\postcond{#1}}}
\newcommand{\ANaction}[3]{#1 \xrightarrow{#2} #3}
\newcommand{\ANtrans}{\trans{\AN}}
\newcommand{\ANProc}{\mathbf{\acute{E}L}}

% Traduction en PHp
%\newcommand{\phmtophpsymbol}{\f{PHp}}
%\newcommand{\phmtophp}[1][\PH]{\phmtophpsymbol(#1)}
\newcommand{\phmtophp}[1][\PH]{\llparenthesis #1 \rrparenthesis}
\newcommand{\tophp}[1]{\llparenthesis #1 \rrparenthesis}
\newcommand{\tophm}[1]{(\!(#1)\!)}
\newcommand{\PHssr}[1][\PHs']{#1_{\srsymbol}}
\newcommand{\PHsscf}[1][\PHs']{#1_{\scfsymbol}}
\newcommand{\srsymbol}{r}
\newcommand{\sr}[1]{\srsymbol^{#1}}
\newcommand{\scfsymbol}{f}
\newcommand{\scf}[1]{\scfsymbol^{#1}}

% Propriétés de jouabilité
\newcommand{\F}{F}
\newcommand{\Fopsymbol}{\F}
\newcommand{\Fop}[1]{\Fopsymbol(#1)}
\newcommand{\Fconj}[1]{\mathsf{conj}(#1)}

% Opérateurs de jouabilité
\newcommand{\Feval}[2]{\left[#1\right](#2)}

\newcommand{\Fopph}[1]{\Fopsymbol(#1)}
\newcommand{\Fopphansubsymbol}{{an}}
\newcommand{\Fopphan}[1]{\Fopsymbol_\Fopphansubsymbol(#1)}
\newcommand{\Fopphpsubsymbol}{{p}}
\newcommand{\Fopphp}[1]{\Fopsymbol_\Fopphpsubsymbol(#1)}
\newcommand{\Fopphmsubsymbol}{{plur}}
\newcommand{\Fopphm}[1]{\Fopsymbol_\Fopphmsubsymbol(#1)}

% Merge / Fusion
\newcommand{\PHmergesymbol}{\f{fusion}}
\newcommand{\PHmerge}{\PHmergesymbol}
\newcommand{\PHmergean}{\PHmergesymbol_{an}}

% Flattening / Aplatissement
\newcommand{\ov}{\overline}
\newcommand{\os}{\ov{s}}
\newcommand{\oPH}{\ov{\PH}}

\newcommand{\PHdep}[2]{\f{dep}^{#1}(#2)}
\newcommand{\PHflat}{\f{flat}}
\newcommand{\flats}[1]{\lceil #1 \rceil}
\newcommand{\unflats}[1]{\lfloor #1 \rfloor}

\newcommand{\Fopaplatsubsymbol}{{plat}}
\newcommand{\Fopaplat}[1]{\Fopsymbol_\Fopaplatsubsymbol(#1)}

\newcommand{\mysigma}{\sigma}
\newcommand{\mypi}{\pi}
\newcommand{\n}[1][h]{n^{#1}}
\newcommand{\m}[1][h,i]{m^{#1}}

\def\toset#1{\widetilde{#1}}

\newcommand{\virtualhitters}{\f{FrappeursVirtuels}}

% PHcanonique vers PHm
\newcommand{\PHmult}{\f{plur}}

% PH canonique
\newcommand{\components}{\Gamma}
\newcommand{\cs}{\Delta}
\def\conn{\f{conn}^1}
\def\compin{\f{comp}^1}
\newcommand{\update}{\mathsf{update}}
% \def\restriction#1#2{\mathchoice
%               {\setbox1\hbox{${\displaystyle #1}_{\scriptstyle #2}$}
%               \restrictionaux{#1}{#2}}
%               {\setbox1\hbox{${\textstyle #1}_{\scriptstyle #2}$}
%               \restrictionaux{#1}{#2}}
%               {\setbox1\hbox{${\scriptstyle #1}_{\scriptscriptstyle #2}$}
%               \restrictionaux{#1}{#2}}
%               {\setbox1\hbox{${\scriptscriptstyle #1}_{\scriptscriptstyle #2}$}
%               \restrictionaux{#1}{#2}}}
% \def\restrictionaux#1#2{{#1\,\smash{\vrule height .8\ht1 depth .85\dp1}}_{\,#2}} 

%\newcommand{\reductionsymbol}[1]{#1_{\restriction_{1}}}
%\newcommand{\reductionsymbol}[1]{#1_{|_{1}}}
\newcommand{\reductionsymbol}[1]{#1^1}
\newcommand{\reduction}[1][\PH]{\reductionsymbol{#1}}
\newcommand{\reductionsce}[1][\Sce]{\reductionsymbol{#1}}
\newcommand{\tempop}{\mathsf{P}}

% Modèle de Thomas
\newcommand{\RRB}{\mathsf{T}}
\newcommand{\GI}{\mathcal{G}}
\newcommand{\RRBreg}[1]{\Gamma^{-1}(#1)}
\newcommand{\RRBressymbol}{\mathsf{Res}}
\newcommand{\RRBres}[2]{\RRBressymbol_{#1}(#2)}
\newcommand{\RRBallres}[1]{\textcolor{red}{\mathsf{Res}_{#1}}}
\newcommand{\RRBget}[2]{\PHget{#1}{#2}}
\newcommand{\RRBetat}[1]{\etat{#1}}
\newcommand{\RRBstate}[1]{\RRBetat{#1}}
\newcommand{\RRBstates}{\mathcal{S}}
\newcommand{\RRBedgef}[4]{#1 \xrightarrow{#2 #3} #4}
\newcommand{\arc}[4]{\RRBedgef{#1}{#2,}{#3}{#4}}
%\newcommand{\RRBtrans}[2]{#1 \trans{\RRB} #2}
\newcommand{\RRBtrans}[2]{#1 \trans{} #2}
\newcommand{\RDA}{\f{RDA}}
\newcommand{\RRBtransrda}[2]{#1 \trans{\RDA} #2}
%\newcommand{\uns}{\pm}
\newcommand{\uns}{\circ}

\newcommand{\levelssymbol}{\mathsf{niveaux}}
\newcommand{\levels}[2]{\levelssymbol(#1\rightarrow #2)}
\newcommand{\ulevels}[2]{\overline{\levelssymbol}(#1\rightarrow #2)}

\newcommand{\leqsegm}{\leq_{\llbracket\rrbracket}}
\newcommand{\ltsegm}{<_{\llbracket\rrbracket}}
